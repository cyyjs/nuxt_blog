{"version":3,"file":"pages/favorite/index.js","sources":["webpack:///./assets/img/qrcode.jpg","webpack:///./assets/img/back-top.svg","webpack:///./components/BackTop.vue?d982","webpack:///./components/BackTop.vue","webpack:///./components/BackTop.vue?7882","webpack:///./components/BackTop.vue?159c","webpack:///./pages/favorite/index.vue?dbf5","webpack:///./pages/favorite/index.vue?030b","webpack:///./pages/favorite/index.vue?9cb7","webpack:///./pages/favorite/index.vue?556d","webpack:///./pages/favorite/index.vue","webpack:///./pages/favorite/index.vue?237f","webpack:///./pages/favorite/index.vue?446a"],"sourcesContent":["module.exports = __webpack_public_path__ + \"img/qrcode.6cbc81b.jpg\";","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTI1MzE0MzE0MzE1IiBjbGFzcz0iaWNvbiIgc3R5bGU9IiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjUzMDUiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNDgiIGhlaWdodD0iNDgiPjxkZWZzPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+PC9zdHlsZT48L2RlZnM+PHBhdGggZD0iTTUxMS4xMDQgMjg3Ljg3MiA5NTkuMzYgNzM0Ljk3NiA1MTIuMzIgNDg5LjM0NCA2NC42NCA3MzYuMTI4WiIgcC1pZD0iNTMwNiIgZmlsbD0iIzhhOGE4YSI+PC9wYXRoPjwvc3ZnPg==\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"back-top\"},[_vm._ssrNode(\"<ul><li data-title=\\\"返回顶部\\\" class=\\\"tooltip\\\"\"+(_vm._ssrStyle(null,null, { display: (_vm.scrollTop > 300) ? '' : 'none' }))+\"><img\"+(_vm._ssrAttr(\"src\",require(\"assets/img/back-top.svg\")))+\" alt></li></ul> <div\"+(_vm._ssrClass(null,['wxcode', _vm.showCode ? 'wxcode-show': '']))+\"><img id=\\\"wxcode\\\"\"+(_vm._ssrAttr(\"src\",require(\"assets/img/qrcode.jpg\")))+\" alt></div>\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n    data() {\n        return {\n            scrollTop: 0,\n            showCode: false\n        }\n    },\n    methods: {\n        toTop() {\n            let scrollTop =\n                document.documentElement.scrollTop || document.body.scrollTop\n            let step = scrollTop / 20\n            let timer\n            let fn = () => {\n                if (scrollTop > step) {\n                    scrollTop -= step\n                    document.documentElement.scrollTop = scrollTop\n                    document.body.scrollTop = scrollTop\n                    timer = requestAnimationFrame(fn)\n                } else {\n                    document.documentElement.scrollTop = 0\n                    document.body.scrollTop = 0\n                    cancelAnimationFrame(timer)\n                }\n            }\n            timer = requestAnimationFrame(fn)\n        },\n        onScroll() {\n            this.scrollTop =\n                document.documentElement.scrollTop || document.body.scrollTop\n        },\n        clickBody(e) {\n            if (e.target.id == 'wxcode') {\n                return false\n            }\n            if (this.showCode) {\n                this.showCode = false\n            }\n        }\n    },\n    mounted() {\n        this.$nextTick(() => {\n            window.addEventListener('scroll', this.onScroll)\n            window.addEventListener('click', this.clickBody)\n        })\n    }\n}\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./BackTop.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./BackTop.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BackTop.vue?vue&type=template&id=7561b853&\"\nimport script from \"./BackTop.vue?vue&type=script&lang=js&\"\nexport * from \"./BackTop.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  \"a9dd9da4\"\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=a278aefc&lang=scss&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesServer.js\").default\nmodule.exports.__inject__ = function (context) {\n  add(\"0dd505e0\", content, true, context)\n};","import mod from \"-!../../node_modules/vue-style-loader/index.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=a278aefc&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/vue-style-loader/index.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=a278aefc&lang=scss&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".page[data-v-a278aefc]{padding-top:10px}.page .favorite[data-v-a278aefc]{flex-direction:row;padding:0;max-width:960px;margin:0 auto}.page .favorite h3[data-v-a278aefc]{font-weight:600;line-height:1.25;margin-top:1rem;margin-bottom:1rem}.page .favorite .favorite-list[data-v-a278aefc]{display:flex;flex-wrap:wrap}.page .favorite .item-card[data-v-a278aefc]{width:313px;margin-right:10px;font-size:.8rem;cursor:pointer;padding:16px 20px;background:#fff;border-radius:3px;box-shadow:0 1px 2px 0 rgba(0,0,0,.05);margin-bottom:20px}.page .favorite .item-card[data-v-a278aefc]:nth-child(3n){margin-right:0}.page .favorite .item-card[data-v-a278aefc]:after{content:\\\" \\\";display:block;clear:both}.page .favorite .item-card[data-v-a278aefc]:hover{box-shadow:0 14px 25px rgba(0,0,0,.16)}.page .favorite .item-card:hover .item-img[data-v-a278aefc]{background-position:100%}.page .favorite .item-card h4[data-v-a278aefc]{margin:0 0 10px;font-weight:700;font-size:.9rem}.page .favorite .item-card .item-body[data-v-a278aefc]{line-height:1.7rem;display:flex;justify-content:space-between;align-items:center;word-break:break-all;padding:0;line-height:1.2rem}.page .favorite .item-card .item-body .item-img[data-v-a278aefc]{flex-shrink:0;display:inline-block;background-size:cover;background-repeat:no-repeat;margin-left:10px;height:95px;width:95px;transition:background-position 1s ease-in-out}.page .favorite .item-card .item-body .item-content[data-v-a278aefc]{color:#666}.page .favorite .item-card .item-body .item-content .tags[data-v-a278aefc]{padding:2px 5px}.page .favorite .item-card .card-footer[data-v-a278aefc]{margin-top:10px}@media(max-width:719px){.favorite h3[data-v-a278aefc]{margin-left:20px}.favorite .favorite-list[data-v-a278aefc]{flex-flow:column}.favorite .favorite-list .item-card[data-v-a278aefc]{width:inherit;margin-left:10px}.favorite .favorite-list .item-card[data-v-a278aefc]:nth-child(3n){margin-right:10px}}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_vm._ssrNode(\"<div class=\\\"favorite\\\" data-v-a278aefc>\"+(_vm._ssrList((_vm.dataMap),function(v,k){return (\"<div data-v-a278aefc><h3 data-v-a278aefc>\"+_vm._ssrEscape(_vm._s(k))+\"</h3> <div class=\\\"favorite-list\\\" data-v-a278aefc>\"+(_vm._ssrList((v),function(p){return (\"<div class=\\\"item-card\\\" data-v-a278aefc><a target=\\\"_blank\\\"\"+(_vm._ssrAttr(\"href\",p.url))+\" data-v-a278aefc><div class=\\\"item-body\\\" data-v-a278aefc><div class=\\\"item-content\\\" data-v-a278aefc><h4 data-v-a278aefc>\"+_vm._ssrEscape(_vm._s(p.title))+\"</h4> <div style=\\\"height: 40px; overflow: hidden;\\\" data-v-a278aefc>\"+_vm._ssrEscape(\"\\n                                    \"+_vm._s(p.description)+\"\\n                                \")+\"</div> <div class=\\\"card-footer\\\" data-v-a278aefc>\"+(_vm._ssrList((p.tags),function(t){return (\"<span class=\\\"tags\\\" data-v-a278aefc>\"+_vm._ssrEscape(_vm._s(t))+\"</span>\")}))+\"</div></div> <div class=\\\"item-img\\\"\"+(_vm._ssrStyle(null,{backgroundImage:'url('+p.banner+')'}, null))+\" data-v-a278aefc></div></div></a></div>\")}))+\"</div></div>\")}))+\"</div> \"),_c('BackTop')],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from '~/plugins/axios'\nimport BackTop from '~/components/BackTop'\nexport default {\n    props: {\n        favoriteInput: {\n            type: String,\n            default: ''\n        }\n    },\n    components: {\n        BackTop\n    },\n    async asyncData({ env }) {\n        let {\n            data: {\n                data: { data }\n            }\n        } = await axios.get('/favorite')\n        let list = data || []\n        return {\n            list\n        }\n    },\n    data() {\n        return {}\n    },\n    head() {\n        return {\n            title: '收藏'\n        }\n    },\n    computed: {\n        oDataMap() {\n            let dataMap = {}\n            this.list.forEach(i => {\n                dataMap[i.category] = dataMap[i.category] || []\n                i.updated = this.$util.dateFormat(i.updated)\n                dataMap[i.category].push(i)\n            })\n            return dataMap\n        },\n        dataMap() {\n            let map = {}\n            if (!this.favoriteInput.length) {\n                return this.oDataMap\n            } else {\n                for (let k in this.oDataMap) {\n                    let list = this.oDataMap[k].filter(i =>\n                        i.title\n                            .toLocaleUpperCase()\n                            .includes(this.favoriteInput.toLocaleUpperCase())\n                    )\n                    if (list.length) {\n                        map[k] = list\n                    }\n                }\n                return map\n            }\n        }\n    },\n    methods: {\n        fetchData() {\n            this.$get('/favorite').then(({ data: { data } }) => {\n                let list = data || []\n                let dataMap = {}\n                list.forEach(i => {\n                    dataMap[i.category] = dataMap[i.category] || []\n                    i.updated = this.$util.dateFormat(i.updated)\n                    dataMap[i.category].push(i)\n                })\n                this.oDataMap = dataMap\n            })\n        }\n    }\n}\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=a278aefc&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./index.vue?vue&type=style&index=0&id=a278aefc&lang=scss&scoped=true&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"a278aefc\",\n  \"5a01443a\"\n  \n)\n\nexport default component.exports"],"mappings":";;;;;;AAAA;;;;;;;ACAA;;;;;;;;;;ACAA;AACA;AACA;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAhCA;AACA;AAgCA;AACA;AACA;AACA;AACA;AACA;AACA;AA9CA;;ACZA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACVA;AAAA;AAAA;AAAA;AAAA;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACNA;AACA;AACA;;;;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AADA;AAMA;AACA;AADA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AADA;AADA;AAKA;AACA;AACA;AADA;AAGA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AADA;AAGA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AA5BA;AA6BA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;AA1DA;;AC/BA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}